mutate(year = year(start_date), week = week(start_date),
regddname = str_extract_all(area_name, district_pattern))
View(ShutdwonDataRaw)
View(ShutdownData)
View(ShutdownData)
View(ShutdownDataRaw)
# Faiz Essa
# GDELT Data Wrangling
# April 19th, 2023
#### SETUP ####
rm(list=ls())
# importing packages
library(tidyverse)
library(lubridate)
library(readxl)
# data import
prowess_stockprice <- read_delim(
"/Users/faizessa/Documents/data/prowess_stockprice_dat.txt", delim = "|")
prowess_identity <- read_delim(
"/Users/faizessa/Documents/data/prowess_identity.txt", delim = "|")
ShutdownData2022 <- read_excel("Data/Shutdowns/shutdown_data_raw.xlsx", sheet = 1)
ShutdownData2021 <- read_excel("Data/Shutdowns/shutdown_data_raw.xlsx", sheet = 2)
ShutdownData2020 <- read_excel("Data/Shutdowns/shutdown_data_raw.xlsx", sheet = 3)
ShutdownData2019 <- read_excel("Data/Shutdowns/shutdown_data_raw.xlsx", sheet = 4)
ShutdownDataPre19 <- read_excel("Data/Shutdowns/shutdown_data_raw.xlsx", sheet = 5)
View(ShutdownData2019)
# Faiz Essa
# GDELT Data Wrangling
# April 19th, 2023
#### SETUP ####
rm(list=ls())
# importing packages
library(tidyverse)
library(lubridate)
library(readxl)
# data import
prowess_stockprice <- read_delim(
"/Users/faizessa/Documents/data/prowess_stockprice_dat.txt", delim = "|")
prowess_identity <- read_delim(
"/Users/faizessa/Documents/data/prowess_identity.txt", delim = "|")
ShutdownData2022 <- read_excel("Data/Shutdowns/shutdown_data_raw.xlsx", sheet = 1)
ShutdownData2021 <- read_excel("Data/Shutdowns/shutdown_data_raw.xlsx", sheet = 2)
ShutdownData2020 <- read_excel("Data/Shutdowns/shutdown_data_raw.xlsx", sheet = 3)
ShutdownData2019 <- read_excel("Data/Shutdowns/shutdown_data_raw.xlsx", sheet = 4)
ShutdownDataPre19 <- read_excel("Data/Shutdowns/shutdown_data_raw.xlsx", sheet = 5)
#### CONSTRUCTING PANEL ####
prowess_panel <- prowess_stockprice %>%
select(co_code, co_stkdate,
bse_opening_price, bse_returns,
nse_opening_price, nse_returns) %>%
mutate(date = as.Date(co_stkdate, "%d-%m-%Y")) %>% # fixing date format
mutate(year = year(date), week = week(date)) %>%
select(!co_stkdate) %>%
relocate(c(date,year,week), .before = bse_opening_price) %>%
filter(year >= 2016)
# keep only district info in identitiy data
prowess_districts <- prowess_identity %>%
select(co_code, regddname)
# could try corpdname or hoddname, but these are often missing
# merging in district info
prowess_panel <- prowess_panel %>%
left_join(prowess_districts, by = "co_code") %>%
# aggregating to district-year-week level
group_by(regddname, year, week) %>%
summarize(AvgBSEPrice = mean(bse_opening_price, na.rm = TRUE),
AvgBSEReturns = mean(bse_returns, na.rm = TRUE),
AvgNSEPrice = mean(nse_opening_price, na.rm = TRUE),
AvgNSEReturns = mean(nse_returns, na.rm = TRUE)) %>%
ungroup() %>%
mutate(across(everything(), ~replace_na(.x, NA)))
# list of districts
districts <- prowess_panel %>%
select(regddname) %>%
distinct()
# creating "blank" panel
blank_panel <- seq.POSIXt(ISOdate(2016,1,1),ISOdate(2023,1,1), by="week") %>%
data.frame() %>%
mutate(year = year(.), week= week(.)) %>%
select(year, week) %>%
crossing(districts) %>%
arrange(regddname, year, week)
# using blank panel to add missing dates
prowess_panel <- blank_panel %>%
left_join(prowess_panel, by = c("regddname", "year", "week")) %>%
# adding time index
group_by(year, week) %>%
mutate(time = cur_group_id()) %>%
ungroup() %>%
relocate(time, .before = AvgBSEPrice) %>%
relocate(c(year,week), .before = time) %>%
mutate(regddname = tolower(regddname))
#### MERGING IN SHUTDOWN DATA ####
# keeping relevant vars
ShutdownData2022 <- select(ShutdownData2022, start_date, area_name)
ShutdownData2021 <- select(ShutdownData2021, start_date, area_name)
ShutdownData2020 <- select(ShutdownData2020, start_date, area_name)
ShutdownData2019 <- select(ShutdownData2019, start_date, area_name)
ShutdownDataPre19 <- select(ShutdownDataPre19, start_date, area_name)
ShutdownDataRaw <- bind_rows(list(ShutdownData2022, ShutdownData2021,
ShutdownData2020, ShutdownData2019,
ShutdownDataPre19))
# defining pattern for extraction
district_pattern <- paste(unique(prowess_panel$regddname),
collapse = "|")
ShutdownData <- ShutdownDataRaw %>%
mutate(year = year(start_date), week = week(start_date),
regddname = str_extract_all(area_name, district_pattern)) %>%
mutate(regddname = ifelse(lengths(regddname)==0, NA, regddname)) %>%
filter(!is.na(regddname)) %>%
unnest(regddname) %>%
ShutdownData <- ShutdownDataRaw %>%
mutate(year = year(start_date), week = week(start_date),
regddname = str_extract_all(area_name, district_pattern)) %>%
mutate(regddname = ifelse(lengths(regddname)==0, NA, regddname)) %>%
filter(!is.na(regddname)) %>%
unnest(regddname)
View(ShutdownData)
ShutdownData <- ShutdownDataRaw %>%
mutate(year = year(start_date), week = week(start_date),
regddname = str_extract_all(area_name, district_pattern)) %>%
mutate(regddname = ifelse(lengths(regddname)==0, NA, regddname))
ShutdownData <- ShutdownDataRaw %>%
mutate(year = year(start_date), week = week(start_date),
regddname = str_extract_all(area_name, district_pattern))
# Faiz Essa
# GDELT Data Wrangling
# April 19th, 2023
#### SETUP ####
rm(list=ls())
# importing packages
library(tidyverse)
library(lubridate)
library(readxl)
# data import
prowess_stockprice <- read_delim(
"/Users/faizessa/Documents/data/prowess_stockprice_dat.txt", delim = "|")
prowess_identity <- read_delim(
"/Users/faizessa/Documents/data/prowess_identity.txt", delim = "|")
ShutdownData2022 <- read_excel("Data/Shutdowns/shutdown_data_raw.xlsx", sheet = 1)
ShutdownData2021 <- read_excel("Data/Shutdowns/shutdown_data_raw.xlsx", sheet = 2)
ShutdownData2020 <- read_excel("Data/Shutdowns/shutdown_data_raw.xlsx", sheet = 3)
ShutdownData2019 <- read_excel("Data/Shutdowns/shutdown_data_raw.xlsx", sheet = 4)
ShutdownDataPre19 <- read_excel("Data/Shutdowns/shutdown_data_raw.xlsx", sheet = 5)
#### CONSTRUCTING PANEL ####
prowess_panel <- prowess_stockprice %>%
select(co_code, co_stkdate,
bse_opening_price, bse_returns,
nse_opening_price, nse_returns) %>%
mutate(date = as.Date(co_stkdate, "%d-%m-%Y")) %>% # fixing date format
mutate(year = year(date), week = week(date)) %>%
select(!co_stkdate) %>%
relocate(c(date,year,week), .before = bse_opening_price) %>%
filter(year >= 2016)
# keep only district info in identitiy data
prowess_districts <- prowess_identity %>%
select(co_code, regddname)
# could try corpdname or hoddname, but these are often missing
# merging in district info
prowess_panel <- prowess_panel %>%
left_join(prowess_districts, by = "co_code") %>%
# aggregating to district-year-week level
group_by(regddname, year, week) %>%
summarize(AvgBSEPrice = mean(bse_opening_price, na.rm = TRUE),
AvgBSEReturns = mean(bse_returns, na.rm = TRUE),
AvgNSEPrice = mean(nse_opening_price, na.rm = TRUE),
AvgNSEReturns = mean(nse_returns, na.rm = TRUE)) %>%
ungroup() %>%
mutate(across(everything(), ~replace_na(.x, NA)))
# list of districts
districts <- prowess_panel %>%
select(regddname) %>%
distinct()
# creating "blank" panel
blank_panel <- seq.POSIXt(ISOdate(2016,1,1),ISOdate(2023,1,1), by="week") %>%
data.frame() %>%
mutate(year = year(.), week= week(.)) %>%
select(year, week) %>%
crossing(districts) %>%
arrange(regddname, year, week)
# using blank panel to add missing dates
prowess_panel <- blank_panel %>%
left_join(prowess_panel, by = c("regddname", "year", "week")) %>%
# adding time index
group_by(year, week) %>%
mutate(time = cur_group_id()) %>%
ungroup() %>%
relocate(time, .before = AvgBSEPrice) %>%
relocate(c(year,week), .before = time) %>%
mutate(regddname = tolower(regddname))
#### MERGING IN SHUTDOWN DATA ####
# keeping relevant vars
ShutdownData2022 <- select(ShutdownData2022, start_date, area_name)
ShutdownData2021 <- select(ShutdownData2021, start_date, area_name)
ShutdownData2020 <- select(ShutdownData2020, start_date, area_name)
ShutdownData2019 <- select(ShutdownData2019, start_date, area_name)
ShutdownDataPre19 <- select(ShutdownDataPre19, start_date, area_name)
ShutdownDataRaw <- bind_rows(list(ShutdownData2022, ShutdownData2021,
ShutdownData2020, ShutdownData2019,
ShutdownDataPre19)) %>%
mutate(area_name = tolower(area_name))
# defining pattern for extraction
district_pattern <- paste(unique(prowess_panel$regddname),
collapse = "|")
ShutdownData <- ShutdownDataRaw %>%
mutate(year = year(start_date), week = week(start_date),
regddname = str_extract_all(area_name, district_pattern)) %>%
mutate(regddname = ifelse(lengths(regddname)==0, NA, regddname)) %>%
filter(!is.na(regddname)) %>%
unnest(regddname)
View(ShutdownData)
prowess_panel <- prowess_panel %>%
left_join(ShutdownData, by = ("regddname", "year", "week"))
prowess_panel <- prowess_panel %>%
left_join(ShutdownData, by = ("regddname", "year", "week"))
prowess_panel <- prowess_panel %>%
left_join(ShutdownData, by = ("regddname", "year", "week"))
prowess_panel <- prowess_panel %>%
left_join(ShutdownData, by = c("regddname", "year", "week"))
# Faiz Essa
# GDELT Data Wrangling
# April 19th, 2023
#### SETUP ####
rm(list=ls())
# importing packages
library(tidyverse)
library(lubridate)
library(readxl)
# data import
prowess_stockprice <- read_delim(
"/Users/faizessa/Documents/data/prowess_stockprice_dat.txt", delim = "|")
prowess_identity <- read_delim(
"/Users/faizessa/Documents/data/prowess_identity.txt", delim = "|")
ShutdownData2022 <- read_excel("Data/Shutdowns/shutdown_data_raw.xlsx", sheet = 1)
ShutdownData2021 <- read_excel("Data/Shutdowns/shutdown_data_raw.xlsx", sheet = 2)
ShutdownData2020 <- read_excel("Data/Shutdowns/shutdown_data_raw.xlsx", sheet = 3)
ShutdownData2019 <- read_excel("Data/Shutdowns/shutdown_data_raw.xlsx", sheet = 4)
ShutdownDataPre19 <- read_excel("Data/Shutdowns/shutdown_data_raw.xlsx", sheet = 5)
#### CONSTRUCTING PANEL ####
prowess_panel <- prowess_stockprice %>%
select(co_code, co_stkdate,
bse_opening_price, bse_returns,
nse_opening_price, nse_returns) %>%
mutate(date = as.Date(co_stkdate, "%d-%m-%Y")) %>% # fixing date format
mutate(year = year(date), week = week(date)) %>%
select(!co_stkdate) %>%
relocate(c(date,year,week), .before = bse_opening_price) %>%
filter(year >= 2016)
# keep only district info in identitiy data
prowess_districts <- prowess_identity %>%
select(co_code, regddname)
# could try corpdname or hoddname, but these are often missing
# merging in district info
prowess_panel <- prowess_panel %>%
left_join(prowess_districts, by = "co_code") %>%
# aggregating to district-year-week level
group_by(regddname, year, week) %>%
summarize(AvgBSEPrice = mean(bse_opening_price, na.rm = TRUE),
AvgBSEReturns = mean(bse_returns, na.rm = TRUE),
AvgNSEPrice = mean(nse_opening_price, na.rm = TRUE),
AvgNSEReturns = mean(nse_returns, na.rm = TRUE)) %>%
ungroup() %>%
mutate(across(everything(), ~replace_na(.x, NA)))
# list of districts
districts <- prowess_panel %>%
select(regddname) %>%
distinct()
# creating "blank" panel
blank_panel <- seq.POSIXt(ISOdate(2016,1,1),ISOdate(2023,1,1), by="week") %>%
data.frame() %>%
mutate(year = year(.), week= week(.)) %>%
select(year, week) %>%
crossing(districts) %>%
arrange(regddname, year, week)
# using blank panel to add missing dates
prowess_panel <- blank_panel %>%
left_join(prowess_panel, by = c("regddname", "year", "week")) %>%
# adding time index
group_by(year, week) %>%
mutate(time = cur_group_id()) %>%
ungroup() %>%
relocate(time, .before = AvgBSEPrice) %>%
relocate(c(year,week), .before = time) %>%
mutate(regddname = tolower(regddname))
#### MERGING IN SHUTDOWN DATA ####
# keeping relevant vars
ShutdownData2022 <- select(ShutdownData2022, start_date, area_name)
ShutdownData2021 <- select(ShutdownData2021, start_date, area_name)
ShutdownData2020 <- select(ShutdownData2020, start_date, area_name)
ShutdownData2019 <- select(ShutdownData2019, start_date, area_name)
ShutdownDataPre19 <- select(ShutdownDataPre19, start_date, area_name)
ShutdownDataRaw <- bind_rows(list(ShutdownData2022, ShutdownData2021,
ShutdownData2020, ShutdownData2019,
ShutdownDataPre19)) %>%
mutate(area_name = tolower(area_name))
# defining pattern for extraction
district_pattern <- paste(unique(prowess_panel$regddname),
collapse = "|")
ShutdownData <- ShutdownDataRaw %>%
mutate(year = year(start_date), week = week(start_date),
regddname = str_extract_all(area_name, district_pattern)) %>%
mutate(regddname = ifelse(lengths(regddname)==0, NA, regddname)) %>%
filter(!is.na(regddname)) %>%
unnest(regddname) %>%
select(regddname, year, week) %>%
mutate(shutdown = 1)
prowess_panel <- prowess_panel %>%
left_join(ShutdownData, by = c("regddname", "year", "week"), multiple = "all") %>%
mutate(shutdown = ifelse(is.na(shutdown), 0, shutdown))
View(prowess_panel)
# Faiz Essa
# GDELT Data Wrangling
# April 19th, 2023
#### SETUP ####
rm(list=ls())
# importing packages
library(tidyverse)
library(lubridate)
library(readxl)
# data import
prowess_stockprice <- read_delim(
"/Users/faizessa/Documents/data/prowess_stockprice_dat.txt", delim = "|")
prowess_identity <- read_delim(
"/Users/faizessa/Documents/data/prowess_identity.txt", delim = "|")
ShutdownData2022 <- read_excel("Data/Shutdowns/shutdown_data_raw.xlsx", sheet = 1)
ShutdownData2021 <- read_excel("Data/Shutdowns/shutdown_data_raw.xlsx", sheet = 2)
ShutdownData2020 <- read_excel("Data/Shutdowns/shutdown_data_raw.xlsx", sheet = 3)
ShutdownData2019 <- read_excel("Data/Shutdowns/shutdown_data_raw.xlsx", sheet = 4)
ShutdownDataPre19 <- read_excel("Data/Shutdowns/shutdown_data_raw.xlsx", sheet = 5)
#### CONSTRUCTING PANEL ####
prowess_panel <- prowess_stockprice %>%
select(co_code, co_stkdate,
bse_opening_price, bse_returns,
nse_opening_price, nse_returns) %>%
mutate(date = as.Date(co_stkdate, "%d-%m-%Y")) %>% # fixing date format
mutate(year = year(date), week = week(date)) %>%
select(!co_stkdate) %>%
relocate(c(date,year,week), .before = bse_opening_price) %>%
filter(year >= 2016)
# keep only district info in identitiy data
prowess_districts <- prowess_identity %>%
select(co_code, regddname)
# could try corpdname or hoddname, but these are often missing
# merging in district info
prowess_panel <- prowess_panel %>%
left_join(prowess_districts, by = "co_code") %>%
# aggregating to district-year-week level
group_by(regddname, year, week) %>%
summarize(AvgBSEPrice = mean(bse_opening_price, na.rm = TRUE),
AvgBSEReturns = mean(bse_returns, na.rm = TRUE),
AvgNSEPrice = mean(nse_opening_price, na.rm = TRUE),
AvgNSEReturns = mean(nse_returns, na.rm = TRUE)) %>%
ungroup() %>%
mutate(across(everything(), ~replace_na(.x, NA)))
# list of districts
districts <- prowess_panel %>%
select(regddname) %>%
distinct()
# creating "blank" panel
blank_panel <- seq.POSIXt(ISOdate(2016,1,1),ISOdate(2023,1,1), by="week") %>%
data.frame() %>%
mutate(year = year(.), week= week(.)) %>%
select(year, week) %>%
crossing(districts) %>%
arrange(regddname, year, week)
# using blank panel to add missing dates
prowess_panel <- blank_panel %>%
left_join(prowess_panel, by = c("regddname", "year", "week")) %>%
# adding time index
group_by(year, week) %>%
mutate(time = cur_group_id()) %>%
ungroup() %>%
relocate(time, .before = AvgBSEPrice) %>%
relocate(c(year,week), .before = time) %>%
mutate(regddname = tolower(regddname))
#### MERGING IN SHUTDOWN DATA ####
# keeping relevant vars
ShutdownData2022 <- select(ShutdownData2022, start_date, area_name)
ShutdownData2021 <- select(ShutdownData2021, start_date, area_name)
ShutdownData2020 <- select(ShutdownData2020, start_date, area_name)
ShutdownData2019 <- select(ShutdownData2019, start_date, area_name)
ShutdownDataPre19 <- select(ShutdownDataPre19, start_date, area_name)
ShutdownDataRaw <- bind_rows(list(ShutdownData2022, ShutdownData2021,
ShutdownData2020, ShutdownData2019,
ShutdownDataPre19)) %>%
mutate(area_name = tolower(area_name))
# defining pattern for extraction
district_pattern <- paste(unique(prowess_panel$regddname),
collapse = "|")
ShutdownData <- ShutdownDataRaw %>%
mutate(year = year(start_date), week = week(start_date),
regddname = str_extract_all(area_name, district_pattern)) %>%
mutate(regddname = ifelse(lengths(regddname)==0, NA, regddname)) %>%
filter(!is.na(regddname)) %>%
unnest(regddname) %>%
select(regddname, year, week) %>%
mutate(shutdown = 1)
# merging
prowess_panel <- prowess_panel %>%
left_join(ShutdownData, by = c("regddname", "year", "week"), multiple = "all") %>%
mutate(shutdown = ifelse(is.na(shutdown), 0, shutdown))
write_csv(prowess_panel, "Data/Prowess/prowess_panel.csv")
rm(list=ls())
# Faiz Essa
# GDELT Data Wrangling
# April 18th, 2023
#### SETUP ####
rm(list=ls())
# importing packages
library(tidyverse)
library(lubridate)
library(readxl)
# data import
raw_data <- read_rds("Data/GDELT/RawGDELT.rds")
ShutdownData2022 <- read_excel("Data/Shutdowns/shutdown_data_raw.xlsx", sheet = 1)
ShutdownData2021 <- read_excel("Data/Shutdowns/shutdown_data_raw.xlsx", sheet = 2)
ShutdownData2020 <- read_excel("Data/Shutdowns/shutdown_data_raw.xlsx", sheet = 3)
ShutdownData2019 <- read_excel("Data/Shutdowns/shutdown_data_raw.xlsx", sheet = 4)
ShutdownDataPre19 <- read_excel("Data/Shutdowns/shutdown_data_raw.xlsx", sheet = 5)
raw_tone_data <- read_rds("Data/GDELT/RawGDELTGovTone.rds") # government tone
raw_tone_data_2 <- read_rds("Data/GDELT/RawGDELTOppTone.rds") # opposition tone
#### CONSTRUCTING PANEL ####
# dropping obs with missing district
# fixing date format
raw_data <- raw_data %>%
filter(!is.na(ActionGeo_ADM2Code)) %>%
mutate(date = as.Date(as.character(SQLDATE), "%Y%m%d")) %>%
select(!SQLDATE)
date_list <- seq.POSIXt(ISOdate(2016,1,1),ISOdate(2023,1,1), by="day")
# list of event codes
event_codes <- raw_data %>%
distinct(EventRootCode)
# creates list of unique adm2 codes
ActionGeo_ADM2Code <- raw_data %>%
distinct(ActionGeo_ADM2Code)
# creating `blank` panel
dates <- data.frame(date=date_list) %>%
mutate(date = as.Date(date)) %>%
crossing(ActionGeo_ADM2Code) %>%
crossing(event_codes) %>%
arrange(ActionGeo_ADM2Code, EventRootCode, date)
# merging in gdelt data
gdelt_panel <- dates %>%
left_join(raw_data, by = c("ActionGeo_ADM2Code", "date", "EventRootCode")) %>%
arrange(ActionGeo_ADM2Code, EventRootCode, date) %>%
mutate(f0_ = ifelse(is.na(f0_), 0, f0_)) %>%
pivot_wider(names_from = EventRootCode, values_from = f0_) %>%
rename(protest_count = "14", assault_count = "18", fight_count = "19", massviolence_count = "20")
#### AGGREGATING TO WEEKLY LEVEL ####
gdelt_panel <- gdelt_panel %>%
mutate(year = year(date), week = week(date)) %>%
group_by(ActionGeo_ADM2Code, year, week) %>%
summarize(protest_count = sum(protest_count),
assault_count = sum(assault_count),
fight_count = sum(fight_count),
massviolence_count = sum(massviolence_count)) %>%
ungroup() %>%
group_by(year, week) %>%
mutate(time = cur_group_id()) %>%
ungroup() %>%
# creating transformations of dv's
mutate(protest_indicator = ifelse(protest_count > 0, 1, 0),
assault_indicator = ifelse(assault_count > 0, 1, 0),
fight_indicator = ifelse(fight_count > 0, 1, 0),
massviolence_indicator = ifelse(massviolence_count > 0, 1, 0),
log_protests = log(protest_count + 1),
log_assaults = log(assault_count + 1),
log_fights = log(fight_count + 1),
log_massviolence = log(massviolence_count + 1)) %>%
relocate(time, .before = "protest_count")
# CREATING INTENSE PROTESTS INDICATOR
gdelt_thresholds <- gdelt_panel %>%
group_by(ActionGeo_ADM2Code) %>%
summarize(protestp75 = quantile(protest_count, probs = .75),
assaultp75 = quantile(assault_count, probs = .75),
fightp75 = quantile(fight_count, probs = .75),
massviolencep75 = quantile(massviolence_count, probs = .75))
# Adding transformation 1(count > 75th percentile)
gdelt_panel <- gdelt_panel %>%
left_join(gdelt_thresholds, by = "ActionGeo_ADM2Code") %>%
mutate(intense_protests = ifelse(protest_count > protestp75, 1, 0),
intense_assaults = ifelse(assault_count > assaultp75, 1, 0),
intense_fights = ifelse(fight_count > fightp75, 1, 0),
intense_massviolence = ifelse(assault_count > assaultp75, 1, 0))
#### MERGING IN SHUTDOWN DATA ####
# keeping relevant vars
ShutdownData2022 <- select(ShutdownData2022, start_date, area_name)
ShutdownData2021 <- select(ShutdownData2021, start_date, area_name)
ShutdownData2020 <- select(ShutdownData2020, start_date, area_name)
ShutdownData2019 <- select(ShutdownData2019, start_date, area_name)
ShutdownDataPre19 <- select(ShutdownDataPre19, start_date, area_name)
# concatinating dataframes
ShutdownDataRaw <- bind_rows(list(ShutdownData2022, ShutdownData2021,
ShutdownData2020, ShutdownData2019,
ShutdownDataPre19)) %>%
mutate(area_name = tolower(area_name))
# merging ADM2Codes with names
ADM2CrosswalkRaw <- read_delim(
"/Users/faizessa/Documents/data/GNS-GAUL-ADM2-CROSSWALK.txt",
delim = "\t")
View(ADM2CrosswalkRaw)
ADM2Crosswalk <- select(ADM2CrosswalkRaw, GAULADM2Code, GAULADM2Name) %>%
rename(ActionGeo_ADM2Code = GAULADM2Code) %>%
mutate(GAULADM2Name = tolower(GAULADM2Name))
View(ADM2CrosswalkRaw)
ADM2Crosswalk <- select(ADM2CrosswalkRaw, GAULADM2Code, GAULADM2Name) %>%
rename(ActionGeo_ADM2Code = GAULADM2Code)
View(ADM2Crosswalk)
ADM2Crosswalk <- select(ADM2CrosswalkRaw, GAULADM2Code, GAULADM2Name) %>%
rename(ActionGeo_ADM2Code = GAULADM2Code) %>%
mutate(GAULADM2Name = tolower(GAULADM2Name))
?tolower
rm(list=ls())
